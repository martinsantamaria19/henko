---
import decorativeCircle from "../assets/decorative-circle.webp";
---

<section
    class="relative overflow-visible min-h-screen flex items-center pt-0 lg:pt-0"
    id="home"
>
    <!-- MOBILE: Immersive Background (Hidden on Desktop) -->
    <!-- Extended height and negative top to ensure full coverage including top gap -->
    <div
        class="absolute -top-[10vh] left-0 w-full h-[120vh] z-0 lg:hidden pointer-events-none"
    >
        <img
            src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
            alt="Background"
            class="w-full h-full object-cover"
        />
        <!-- Dark Gradient Overlay -->
        <div
            class="absolute inset-0 bg-gradient-to-b from-[#0B1C3E]/60 via-[#0B1C3E]/80 to-[#0B1C3E]"
        >
        </div>

        <!-- Decorative subtle particles -->
        <div
            class="absolute top-1/3 left-1/4 w-64 h-64 bg-blue-500/20 rounded-full blur-[80px] animate-pulse-slow"
        >
        </div>
    </div>

    <div
        class="container mx-auto max-w-18/20 px-6 md:px-8 relative z-10 h-full flex flex-col lg:flex-row items-center justify-start lg:justify-start"
    >
        <!-- Text Content -->
        <div
            class="w-full lg:w-[70%] space-y-0 lg:space-y-6 text-center lg:text-left -mt-12 lg:-mt-16"
        >
            <!-- Headline -->
            <h1 class="leading-[1.1] hero-text-container">
                <div class="overflow-hidden relative">
                    <span
                        class="font-light block text-[11vw] lg:text-[clamp(2.5rem,5vw,5rem)] text-white/90 lg:text-slate-900 hero-text-line translate-y-full"
                        >De la creatividad</span
                    >
                </div>
                <div class="overflow-hidden relative">
                    <span
                        class="font-black italic block text-[13vw] lg:text-[clamp(3rem,6vw,6rem)] text-white lg:text-[#0B1C3E] hero-text-line translate-y-full"
                        >al impacto real</span
                    >
                </div>
            </h1>

            <!-- Mobile-only decorative divider -->
            <div
                class="w-0 h-1 bg-gradient-to-r from-emerald-400 to-blue-500 mx-auto lg:hidden rounded-full hero-divider"
            >
            </div>

            <!-- Buttons -->
            <div
                class="flex flex-col sm:flex-row gap-4 pt-2 justify-center lg:justify-start items-center hero-buttons opacity-0"
            >
                <a
                    href="#contact"
                    class="w-full sm:w-auto bg-white/10 backdrop-blur-md border border-white/20 lg:bg-[#699FBF] lg:border-none text-white px-8 py-4 rounded-full font-bold text-sm hover:bg-white/20 lg:hover:bg-slate-600 transition-all shadow-lg tracking-wide text-center active:scale-95"
                >
                    QUIERO UNA REUNIÓN
                </a>
                <a
                    href="#contact"
                    class="w-full sm:w-auto bg-[#00213A] lg:bg-[#00213A] text-white px-8 py-4 rounded-full font-bold text-sm hover:bg-slate-800 transition-all shadow-lg tracking-wide text-center active:scale-95"
                >
                    AGENDÁ UNA LLAMADA
                </a>
            </div>
        </div>
    </div>

    <!-- DESKTOP: Image/Visual Content (Hidden on Mobile) -->
    <div
        class="absolute right-0 top-9/20 -translate-y-1/2 w-[40%] h-[85%] z-20 hidden lg:block"
    >
        <!-- Main Image Mask/Shape -->
        <div
            class="relative w-full h-full rounded-tl-[12rem] rounded-bl-[30rem] rounded-tr-[3rem] rounded-br-[6rem] overflow-hidden shadow-2xl"
        >
            <img
                src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                alt="Team working"
                class="w-full h-full object-cover object-center"
            />
        </div>

        <!-- Floating Pills -->
        <div
            class="absolute top-[60%] -left-16 bg-black text-white px-5 py-3 rounded-full flex items-center gap-3 shadow-xl transform -translate-y-1/2 z-20 border border-gray-800"
        >
            <span class="text-yellow-400 text-lg">⚡</span>
            <span class="font-medium text-lg">Trascendencia</span>
        </div>

        <div
            class="absolute bottom-38 -left-0 bg-black text-white px-5 py-3 rounded-full flex items-center gap-3 shadow-xl z-20 border border-gray-800"
        >
            <span class="text-cyan-400 text-lg">✦</span>
            <span class="font-medium text-lg">Innovación</span>
        </div>

        <div
            class="absolute -bottom-0 right-120 translate-x-1/2 bg-black text-white px-5 py-3 rounded-full flex items-center gap-3 shadow-xl z-20 border border-gray-800"
        >
            <span class="text-emerald-400 text-lg">↗</span>
            <span class="font-medium text-lg">Impacto</span>
        </div>

        <!-- Decorative Circle usando imagen -->
        <div
            class="absolute top-[15%] -right-12 md:-right-16 w-32 h-32 md:w-40 md:h-40 z-0"
        >
            <img
                src={decorativeCircle.src}
                alt="Elemento decorativo"
                class="w-full h-full object-contain"
            />
        </div>
    </div>
</section>

<script>
    import gsap from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);

    document.addEventListener("DOMContentLoaded", () => {
        const initHeroAnimations = () => {
            const tl = gsap.timeline();

            // 1. Text Reveal (Staggered from bottom with clip-path feel)
            tl.to(".hero-text-line", {
                y: 0,
                duration: 1.5,
                stagger: 0.2,
                ease: "power4.out",
            });

            // 2. Divider (Mobile only)
            tl.to(
                ".hero-divider",
                {
                    width: "6rem",
                    duration: 1,
                    ease: "power2.out",
                },
                "-=1.2",
            );

            // 3. Buttons Fade In
            tl.to(
                ".hero-buttons",
                {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    ease: "power2.out",
                },
                "-=1.0",
            );
        };

        // Check if preloader exists
        if (document.getElementById("preloader")) {
            window.addEventListener("preloader-done", initHeroAnimations);
        } else {
            // Fallback for dev or if preloader is missing
            initHeroAnimations();
        }
    });
</script>
