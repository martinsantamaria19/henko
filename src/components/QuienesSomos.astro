---
---

<section class="py-32 md:py-40 relative overflow-hidden js-quienes-somos" id="quienes-somos">
    <!-- Elementos decorativos flotantes con parallax -->
    <div class="absolute inset-0 pointer-events-none">      
        <!-- Líneas decorativas -->
        <div class="js-parallax-line-1 absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-slate-300/20 to-transparent"></div>
        <div class="js-parallax-line-2 absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-slate-300/20 to-transparent"></div>
    </div>

    <div class="container mx-auto max-w-18/20 px-8 relative z-10">
        <div class="max-w-5xl mx-auto space-y-10 text-center">
            <!-- Subtítulo con efecto parallax -->
            <h2 class="js-fade-in-up-delay text-2xl md:text-3xl lg:text-4xl font-light italic text-slate-700 tracking-wide">
                Reinventá. Impactá. Trascendé.
            </h2>

            <!-- Copy breve con efecto parallax -->
            <p class="js-fade-in-up-delay-2 text-lg md:text-xl lg:text-2xl text-gray-600 leading-relaxed max-w-4xl mx-auto pt-6">
                Somos una agencia de marketing digital en Montevideo especializada en publicidad online, branding y estrategias de crecimiento. Creamos campañas que generan resultados reales para empresas de Uruguay.
            </p>
        </div>
    </div>
</section>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    document.addEventListener("DOMContentLoaded", () => {
        const section = document.querySelector(".js-quienes-somos");
        if (!section) return;

        // Animación de entrada para el contenido
        const fadeElements = [
            { el: ".js-fade-in-up", delay: 0 },
            { el: ".js-fade-in-up-delay", delay: 0.2 },
            { el: ".js-fade-in-up-delay-2", delay: 0.4 }
        ];

        fadeElements.forEach(({ el, delay }) => {
            const element = section.querySelector(el);
            if (!element) return;

            gsap.fromTo(
                element,
                {
                    opacity: 0,
                    y: 60,
                    scale: 0.95
                },
                {
                    opacity: 1,
                    y: 0,
                    scale: 1,
                    duration: 1.2,
                    delay: delay,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: section,
                        start: "top 80%",
                        end: "top 50%",
                        toggleActions: "play none none none"
                    }
                }
            );
        });

        // Efectos parallax para elementos decorativos
        const parallaxElements = [
            { el: ".js-parallax-circle-1", speed: 0.3, direction: "y" },
            { el: ".js-parallax-circle-2", speed: 0.5, direction: "y" },
            { el: ".js-parallax-circle-3", speed: 0.2, direction: "y" },
            { el: ".js-parallax-line-1", speed: 0.4, direction: "x" },
            { el: ".js-parallax-line-2", speed: 0.4, direction: "x" }
        ];

        parallaxElements.forEach(({ el, speed, direction }) => {
            const element = section.querySelector(el);
            if (!element) return;

            const axis = direction === "y" ? "y" : "x";
            const value = direction === "y" ? 100 : 50;

            gsap.to(element, {
                [axis]: value * speed,
                ease: "none",
                scrollTrigger: {
                    trigger: section,
                    start: "top bottom",
                    end: "bottom top",
                    scrub: true
                }
            });
        });

        // Efecto parallax sutil para el contenido principal
        const content = section.querySelector(".max-w-5xl");
        if (content) {
            gsap.to(content, {
                y: -30,
                ease: "none",
                scrollTrigger: {
                    trigger: section,
                    start: "top bottom",
                    end: "bottom top",
                    scrub: 1
                }
            });
        }

        // Animación de rotación para círculos decorativos
        const circles = [
            section.querySelector(".js-parallax-circle-1"),
            section.querySelector(".js-parallax-circle-2"),
            section.querySelector(".js-parallax-circle-3")
        ];

        circles.forEach((circle, index) => {
            if (!circle) return;
            const rotation = (index + 1) * 360;
            gsap.to(circle, {
                rotation: rotation,
                ease: "none",
                scrollTrigger: {
                    trigger: section,
                    start: "top bottom",
                    end: "bottom top",
                    scrub: true
                }
            });
        });
    });
</script>

<style>
    .js-quienes-somos {
        will-change: transform;
    }
    
    .js-fade-in-up,
    .js-fade-in-up-delay,
    .js-fade-in-up-delay-2 {
        will-change: transform, opacity;
    }
    
    .js-parallax-circle-1,
    .js-parallax-circle-2,
    .js-parallax-circle-3 {
        will-change: transform;
        animation: float 20s ease-in-out infinite;
    }
    
    .js-parallax-circle-2 {
        animation-delay: -5s;
    }
    
    .js-parallax-circle-3 {
        animation-delay: -10s;
    }
    
    @keyframes float {
        0%, 100% {
            transform: translateY(0px) translateX(0px);
        }
        33% {
            transform: translateY(-30px) translateX(20px);
        }
        66% {
            transform: translateY(20px) translateX(-15px);
        }
    }
</style>
